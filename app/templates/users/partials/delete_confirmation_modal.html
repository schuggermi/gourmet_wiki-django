{% load i18n %}

<dialog id="delete_confirmation_modal" class="modal modal-open">
  <div class="modal-box">
    <h3 class="font-bold text-lg">{% translate 'Delete Your Account' %}</h3>
    <p class="py-4">{% translate 'Are you sure you want to delete your account? This action cannot be undone.' %}</p>

    <form id="user-delete-form" action="{% url 'user-delete' %}" method="post" class="mt-4 flex flex-col gap-4">
      {% csrf_token %}

      <div class="form-control">
        <label class="label">
          <span class="label-text">{% translate 'Please type your full name to confirm:' %}</span>
        </label>
        <c-input
            type="text"
            id="confirm_name"
            name="confirm_name"
            placeholder="{{ request.user.get_full_name }}"
            value="{{ values.confirm_name|default:'' }}"
            required
            w_full></c-input>
        {% if form_errors.confirm_name %}
          <small class="text-error">{{ form_errors.confirm_name }}</small>
        {% endif %}
      </div>

      <div class="form-control">
        <label class="label">
          <span class="label-text">{% translate 'Please enter your email to confirm:' %}</span>
        </label>
        <c-input
            type="email"
            id="confirm_email"
            name="confirm_email"
            placeholder="{{ request.user.email }}"
            value="{{ values.confirm_email|default:'' }}"
            required
            w_full></c-input>
        {% if form_errors.confirm_email %}
          <small class="text-error">{{ form_errors.confirm_email }}</small>
        {% endif %}
      </div>

      <div class="modal-action">
        <a href="{% url 'user-profile' user.username %}" class="btn">{% translate 'Cancel' %}</a>
        <button type="submit" id="submit-button" class="btn btn-error">{% translate 'Delete Your Account' %}</button>
      </div>
    </form>
  </div>
</dialog>

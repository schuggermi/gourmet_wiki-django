{% load i18n %}

<div class="print:hidden inline-flex items-center gap-2">
    <button
            class="btn btn-neutral btn-xs btn-outline btn-circle"
            onclick="
                                        event.preventDefault();
                                        const input = document.getElementById('portions');
                                        const current = parseInt(input.value) || 0;
                                        if (current > 0) input.value = current - 1;
                                        this.setAttribute('hx-vals', JSON.stringify({portions: input.value}));
                                        "
            hx-get="{% url 'recipes:calculate_scaled_ingredients' recipe_id=recipe.pk %}"
            hx-target="{{ hx_target }}"
            hx-swap="outerHTML"
    >
        -
    </button>

    <div class="flex flex-row-reverse gap-2 items-center">
        <c-input id="portions" name="portions" value="{{ portions_value }}" disabled
                 class="text-center font-bold underline"
                 labeled
                 label="{% translate 'Portions' %}"></c-input>
    </div>

    <button
            class="btn btn-neutral btn-xs btn-outline btn-circle"
            onclick="
                                        event.preventDefault();
                                        const input = document.getElementById('portions');
                                        const current = parseInt(input.value) || 0;
                                        input.value = current + 1;
                                        this.setAttribute('hx-vals', JSON.stringify({portions: input.value}));
                                        "
            hx-get="{% url 'recipes:calculate_scaled_ingredients' recipe_id=recipe.pk %}"
            hx-target="{{ hx_target }}"
            hx-swap="outerHTML">
        +
    </button>
</div>
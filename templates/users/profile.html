{% extends "base.html" %}
{% load i18n %}

{% block title %}
    {{ block.super }}
    - {% translate 'Your Profile' %}
{% endblock %}

{% block main_content %}
    <div class="self-start flex flex-col gap-1">
        <h2>{% translate 'Your Profile' %}</h2>
        <c-go-back></c-go-back>
    </div>


    <div class="grid grid-cols-2 md:grid-cols-2 gap-10 w-full min-w-0">
        <div class="col-span-2 w-full flex gap-5 items-center justify-between">
            <div class="shrink-0 shadow-md w-32 h-32 md:w-36 md:h-36 mask mask-hexagon-2 bg-base-200 group-hover/avatar:scale-105">
                <p class="uppercase text-center text-base-content text-5xl! w-full h-full flex items-center justify-center">
                    {{ user.first_name|slice:":1" }}{{ user.last_name|slice:":1" }}
                </p>
            </div>

            <div class="flex-grow">
                <h3 class="text-secondary break-all wrap-break-word">{{ user.username }}</h3>
                <div class="flex flex-col gap-2">
                    <p class="break-all wrap-break-word">{{ object.user.get_full_name }}</p>
                    <div class="flex flex-col">
                        <p class="break-all wrap-break-word">{{ object.user.email }}</p>
                        <c-a url="{% url 'account_email' %}" class="text-accent font-light hover:underline" animated>
                            {% translate 'Change Your Email' %}
                        </c-a>
                    </div>
                    <p class="break-all wrap-break-word"><b>{% translate 'Member since' %}:</b>
                        <br>{{ object.user.profile.created_at }}</p>
                </div>
            </div>
        </div>

        <div class="col-span-2 grid grid-cols-1 md:grid-cols-4 gap-2 md:gap-5 w-full">
            <a href="{% url 'recipe-create' %}" class="h-20 w-full btn btn-neutral">
                <p class="flex gap-5 items-center">
                    <c-add-recipe-icon></c-add-recipe-icon>
                    {% translate 'Add Recipe' %}
                </p>
            </a>

            <a href="{% url 'menu_create' %}" class="h-20 w-full btn btn-neutral">
                <p class="flex gap-5 items-center">
                    <c-add-menu-icon></c-add-menu-icon>
                    {% translate 'Add Menu' %}
                </p>
            </a>

            <a href="{% url 'users-profile-recipes' %}" class="h-20 w-full btn btn-neutral">
                <div class="flex gap-5 items-start">
                    <c-cookbook-icon></c-cookbook-icon>
                    <div class="flex flex-col">
                        {% translate 'Cookbook' %}
                        <small>
                            <span class="text-info">{{ object.user.recipe_set.all|length }} {% translate 'Recipes' %}</span>
                        </small>
                    </div>
                </div>
            </a>

            <a href="{% url 'users-profile-favorite-recipes' %}" class="h-20 w-full btn btn-neutral">
                <div class="flex gap-5 items-start">
                    <c-favorites-icon></c-favorites-icon>
                    <div class="flex flex-col">
                        {% translate 'Favorites' %}
                        <small>
                            <span class="text-info">{{ object.user.favorite_recipes.all|length }} {% translate 'Recipes' %}</span>
                        </small>
                    </div>
                </div>
            </a>
        </div>

        <div class="col-span-2 grid grid-cols-2 md:flex gap-2">
            <c-a url="{% url 'account_change_password' %}"
                 class="btn btn-neutral">{% translate 'Change Password' %}</c-a>
            <c-a url="{% url 'user-delete' %}" class="btn btn-error btn-outline">{% translate 'Delete Account' %}</c-a>
        </div>
    </div>
{% endblock %}

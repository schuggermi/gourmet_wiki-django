{% load django_vite static %}

<!doctype html>
<html lang="en" data-theme="gourmet">
<head>
    <!-- Character encoding for Unicode -->
    <meta charset="UTF-8">
    <!-- Responsive viewport settings -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Page description for search engines -->
    <meta name="description" content="{% block meta_description %}Gourmet Wiki - Your ultimate resource for gourmet recipes and culinary knowledge{% endblock %}">
    <!-- Author information -->
    <meta name="author" content="Gourmet Wiki Team">
    <!-- Control the behavior of search engine crawling and indexing -->
    <meta name="robots" content="index, follow">
    <!-- Define the website's theme color for browser UI elements -->
    <meta name="theme-color" content="#7af1a7">

    <!-- Open Graph meta tags for better social media sharing -->
    <meta property="og:title" content="{% block og_title %}Gourmet Wiki{% endblock %}">
    <meta property="og:description" content="{% block og_description %}Your ultimate resource for gourmet recipes and culinary knowledge{% endblock %}">
    <meta property="og:type" content="website">
    <meta property="og:url" content="{{ request.build_absolute_uri }}">
    <meta property="og:image" content="{% block og_image %}{{ request.scheme }}://{{ request.get_host }}{% static 'favicons/android-chrome-512x512.png' %}{% endblock %}">
    <meta property="og:image:width" content="512">
    <meta property="og:image:height" content="512">
    <meta property="og:locale" content="en_US">
    <meta property="og:site_name" content="Gourmet Wiki">

    <!-- Twitter Card meta tags for Twitter sharing -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="{% block twitter_title %}Gourmet Wiki{% endblock %}">
    <meta name="twitter:description" content="{% block twitter_description %}Your ultimate resource for gourmet recipes and culinary knowledge{% endblock %}">
    <meta name="twitter:image" content="{% block twitter_image %}{{ request.scheme }}://{{ request.get_host }}{% static 'favicons/android-chrome-512x512.png' %}{% endblock %}">

    <!-- Canonical URL to prevent duplicate content issues -->
    <link rel="canonical" href="{{ request.build_absolute_uri }}">

    <title>
        {% block title %}
            Gourmet Wiki
        {% endblock %}
    </title>

    <link rel="apple-touch-icon" sizes="180x180" href="{% static 'favicons/apple-touch-icon.png' %}">
    <link rel="icon" type="image/png" sizes="32x32" href="{% static 'favicons/favicon-32x32.png' %}">
    <link rel="icon" type="image/png" sizes="16x16" href="{% static 'favicons/favicon-16x16.png' %}">
    <link rel="manifest" href="{% static 'favicons/site.webmanifest.json' %}">

    {% if debug %}
        {% vite_hmr_client %}
    {% endif %}
    {% vite_asset 'static/js/main.js' %}

    {% block head %}
    {% endblock %}
</head>
<body class="w-full min-h-screen h-screen bg-base-100 prose">
{% include "partials/navbar.html" %}
<div class="relative h-full w-full max-w-7xl mx-auto flex flex-col gap-5 items-center justify-start pt-32">
    <h1 class="hidden">Gourmet Wiki</h1>
    {% block main_content %}
    {% endblock %}
</div>

{% if messages %}
    <div class="absolute bottom-5 right-5 w-fit p-2 bg-base-300 rounded-sm">
        {% for message in messages %}
            {{ message }}
        {% endfor %}
    </div>
{% endif %}

<script src="https://unpkg.com/htmx.org@1.9.10"></script>

<script>
    const navbar = document.getElementById("navbar");

    window.addEventListener("scroll", () => {
        if (window.scrollY > 65) {
            navbar.classList.add("bg-base-200", "shadow-md");
            navbar.classList.remove("bg-transparent");
        } else {
            navbar.classList.remove("bg-base-200", "shadow-md");
            navbar.classList.add("bg-transparent");
        }
    });
</script>
</body>
</html>
